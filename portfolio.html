<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>
      Portfolio - Weblyt Technologies | Our Software Development Projects
    </title>
    <meta
      name="description"
      content="Explore our portfolio of successful software development projects including mobile apps, web applications, and enterprise solutions built with Flutter, Kotlin, and modern technologies."
    />
    <meta
      name="keywords"
      content="portfolio, software development projects, mobile apps, web applications, Flutter, Kotlin, Android, iOS, enterprise solutions"
    />

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet" />
  </head>

  <body class="portfolio-page">
    <header id="header" class="header d-flex align-items-center fixed-top">
      <div
        class="container position-relative d-flex align-items-center justify-content-between"
      >
        <a
          href="index.html"
          class="logo d-flex align-items-center me-auto me-xl-0"
        >
          <h1 class="sitename">WEBLYT</h1>
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="index.html#services">Services</a></li>
            <li><a href="index.html#tech-stack">Technologies</a></li>
            <li><a href="portfolio.html" class="active">Portfolio</a></li>
            <li><a href="index.html#contact">Contact</a></li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>

        <a class="cta-btn" href="index.html#contact">Start Your Project</a>
      </div>
    </header>

    <main class="main">
      <!-- Page Title -->
      <div
        class="page-title dark-background"
        data-aos="fade"
        style="background-image: url(assets/img/page-title-bg.webp)"
      >
        <div class="container position-relative">
          <h1>Our Portfolio</h1>
          <p>
            Explore our successful software development projects across various
            industries and technologies.
          </p>
        </div>
      </div>
      <!-- End Page Title -->

      <!-- Portfolio Section -->
      <section id="portfolio" class="portfolio section">
        <div class="container">
          <!-- Portfolio Filters -->
          <div
            class="portfolio-filters"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <ul>
              <li data-filter="*" class="filter-active">All</li>
              <li data-filter=".filter-web">Web</li>
              <li data-filter=".filter-mobile">Mobile</li>
            </ul>
          </div>

          <div
            class="row gy-4 isotope-container"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <!-- Portfolio items will be dynamically generated here -->
          </div>
          <!-- End Portfolio Container -->
        </div>
        <!-- End Isotope Layout -->
      </section>
      <!-- /Portfolio Section -->
    </main>

    <footer id="footer" class="footer dark-background">
      <div class="container">
        <h3 class="sitename">WEBLYT TECHNOLOGIES</h3>
        <p>
          Your trusted partner for custom software development, web
          applications, and mobile solutions. Building digital success stories
          since 2025.
        </p>
        <div class="social-links d-flex justify-content-center">
          <a href=""><i class="bi bi-twitter-x"></i></a>
          <a href=""><i class="bi bi-facebook"></i></a>
          <a href=""><i class="bi bi-instagram"></i></a>
          <a href=""><i class="bi bi-skype"></i></a>
          <a href=""><i class="bi bi-linkedin"></i></a>
        </div>
        <div class="container">
          <div class="copyright">
            <span>Copyright</span>
            <strong class="px-1 sitename">WEBLYT TECHNOLOGIES</strong>
            <span>All Rights Reserved</span>
          </div>
        </div>
      </div>
    </footer>

    <a
      href="#"
      class="scroll-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Project Data -->
    <script src="components/js/project-data.js"></script>
    <script src="components/js/project-card-renderer.js"></script>

    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>

    <!-- Dynamic Portfolio Script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize the dynamic portfolio
        initializeDynamicPortfolio();
      });

      function initializeDynamicPortfolio() {
        // Get all projects from the centralized data
        const allProjects = window.ProjectData.getAllProjects();

        // Get the portfolio container
        const portfolioContainer = document.querySelector(".isotope-container");

        if (!portfolioContainer) {
          console.error("Portfolio container not found");
          return;
        }

        // Clear existing content
        portfolioContainer.innerHTML = "";

        // Render all projects dynamically
        allProjects.forEach((project) => {
          const projectCard = createProjectCard(project);
          portfolioContainer.appendChild(projectCard);
        });

        // Update filter counts
        updateFilterCounts();

        // Initialize Isotope after content is loaded
        setTimeout(() => {
          if (typeof Isotope !== "undefined") {
            const iso = new Isotope(portfolioContainer, {
              itemSelector: ".portfolio-item",
              layoutMode: "masonry",
            });

            // Add filter functionality
            const filterButtons = document.querySelectorAll(
              ".portfolio-filters li"
            );
            filterButtons.forEach((button) => {
              button.addEventListener("click", function () {
                const filter = this.getAttribute("data-filter");
                iso.arrange({ filter: filter });

                // Update active class
                filterButtons.forEach((btn) =>
                  btn.classList.remove("filter-active")
                );
                this.classList.add("filter-active");
              });
            });
          }
        }, 100);
      }

      function createProjectCard(project) {
        const col = document.createElement("div");
        col.className = `col-lg-4 col-md-6 portfolio-item isotope-item ${getFilterClasses(
          project
        )}`;
        col.id = project.id;

        const featuredBadge = project.featured
          ? '<div class="featured-badge">FEATURED</div>'
          : "";

        const imageHtml = project.hasImage
          ? `<img src="${project.image}" class="img-fluid" alt="${project.title}" />`
          : `<div class="project-image-placeholder">
            <i class="bi ${getProjectIcon(project.category)}"></i>
            <span>${project.title}</span>
          </div>`;

        const techStackHtml = project.techStack
          .map((tech) => `<span class="tech-badge">${tech}</span>`)
          .join("");

        const playStoreLink = project.playStoreUrl
          ? `<a href="${project.playStoreUrl}" target="_blank" class="app-store-link">
            <i class="bi bi-google-play"></i>
          </a>`
          : `<a href="#" class="app-store-link disabled">
            <i class="bi bi-google-play"></i>
          </a>`;

        const previewLink = project.hasImage
          ? `<a href="${project.image}" class="glightbox preview-link" data-gallery="portfolio-gallery-${project.id}">
            <i class="bi bi-zoom-in"></i>
          </a>`
          : "";

        col.innerHTML = `
          <div class="portfolio-card">
            ${featuredBadge}
            <a href="portfolio-details.html?id=${
              project.id
            }" class="project-link">
              ${imageHtml}
              <div class="project-overlay">
                <div class="project-overlay-content">
                  <h4>${project.title}</h4>
                  <p>${project.category}</p>
                  <div class="project-platforms">
                    ${project.platform
                      .map((p) => `<span class="platform-tag">${p}</span>`)
                      .join("")}
                  </div>
                </div>
              </div>
            </a>
          </div>
        `;

        return col;
      }

      function getFilterClasses(project) {
        const classes = [];

        // Add platform-based filters
        if (project.platform.some((p) => p.toLowerCase() === "web")) {
          classes.push("filter-web");
        }
        if (project.platform.some((p) => p.toLowerCase() === "mobile")) {
          classes.push("filter-mobile");
        }

        // Add technology-based filters
        if (
          project.techStack.some((tech) =>
            tech.toLowerCase().includes("flutter")
          )
        ) {
          classes.push("filter-flutter");
        }
        if (
          project.techStack.some(
            (tech) =>
              tech.toLowerCase().includes("kotlin") ||
              tech.toLowerCase().includes("android")
          )
        ) {
          classes.push("filter-android");
        }

        // Add category-based filters
        if (project.featured) classes.push("filter-featured");
        if (project.category.toLowerCase().includes("business"))
          classes.push("filter-business");
        if (
          project.category.toLowerCase().includes("fitness") ||
          project.category.toLowerCase().includes("yoga")
        )
          classes.push("filter-fitness");
        if (project.category.toLowerCase().includes("gaming"))
          classes.push("filter-gaming");
        if (project.category.toLowerCase().includes("education"))
          classes.push("filter-education");
        if (
          project.category.toLowerCase().includes("dating") ||
          project.category.toLowerCase().includes("social")
        )
          classes.push("filter-social");
        if (project.category.toLowerCase().includes("design"))
          classes.push("filter-design");
        if (
          project.category.toLowerCase().includes("travel") ||
          project.category.toLowerCase().includes("booking")
        )
          classes.push("filter-travel");

        return classes.join(" ");
      }

      function getProjectIcon(category) {
        const iconMap = {
          business: "bi-briefcase",
          fitness: "bi-activity",
          gaming: "bi-controller",
          education: "bi-book",
          dating: "bi-heart",
          social: "bi-people",
          design: "bi-palette",
          travel: "bi-geo-alt",
          hr: "bi-people",
          laundry: "bi-house",
          barter: "bi-arrow-repeat",
        };

        const categoryLower = category.toLowerCase();
        for (const [key, icon] of Object.entries(iconMap)) {
          if (categoryLower.includes(key)) {
            return icon;
          }
        }
        return "bi-phone"; // default icon
      }

      function updateFilterCounts() {
        const allProjects = window.ProjectData.getAllProjects();

        // Update filter counts
        const filterCounts = {
          all: allProjects.length,
          web: allProjects.filter((p) =>
            p.platform.some((plat) => plat.toLowerCase() === "web")
          ).length,
          mobile: allProjects.filter((p) =>
            p.platform.some((plat) => plat.toLowerCase() === "mobile")
          ).length,
          flutter: allProjects.filter((p) =>
            p.techStack.some((tech) => tech.toLowerCase().includes("flutter"))
          ).length,
          android: allProjects.filter((p) =>
            p.techStack.some(
              (tech) =>
                tech.toLowerCase().includes("kotlin") ||
                tech.toLowerCase().includes("android")
            )
          ).length,
          featured: allProjects.filter((p) => p.featured).length,
          business: allProjects.filter((p) =>
            p.category.toLowerCase().includes("business")
          ).length,
          fitness: allProjects.filter(
            (p) =>
              p.category.toLowerCase().includes("fitness") ||
              p.category.toLowerCase().includes("yoga")
          ).length,
          gaming: allProjects.filter((p) =>
            p.category.toLowerCase().includes("gaming")
          ).length,
          social: allProjects.filter(
            (p) =>
              p.category.toLowerCase().includes("dating") ||
              p.category.toLowerCase().includes("social")
          ).length,
        };

        // Update filter button text
        const filterButtons = document.querySelectorAll(
          ".portfolio-filters li"
        );
        filterButtons.forEach((button) => {
          const filter = button.getAttribute("data-filter");
          const originalText = button.textContent.split(" (")[0];
          let count;

          // Handle special case for "All" filter
          if (filter === "*") {
            count = filterCounts.all;
          } else {
            count = filterCounts[filter.replace(".filter-", "")] || 0;
          }

          button.textContent = `${originalText} (${count})`;
        });
      }
    </script>
  </body>
</html>
